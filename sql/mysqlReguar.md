## regular expression with mysql

### like 通配符

其中**_代表一个未指定字符，%代表不定个未指定字符**。

```
mysql> select * from student where name like '%y%';
+------+------+------+------+---------+---------+
| id   | name | age  | math | english | history |
+------+------+------+------+---------+---------+
|    1 | fly  |   24 |   80 |      68 |     100 |
|    3 | sky  |   27 |   80 |      68 |      80 |
+------+------+------+------+---------+---------+
mysql> select * from student where name like '%s%';
+------+------+------+------+---------+---------+
| id   | name | age  | math | english | history |
+------+------+------+------+---------+---------+
|    2 | test |   30 |   60 |      50 |      80 |
|    3 | sky  |   27 |   80 |      68 |      80 |
+------+------+------+------+---------+---------+
```

### regexp 正则匹配

```
mysql> select * from student where name regexp 's';
+------+------+------+------+---------+---------+---------+
| id   | name | age  | math | english | history | teacher |
+------+------+------+------+---------+---------+---------+
|    2 | test |   30 |   60 |      50 |      80 | wu      |
|    3 | sky  |   27 |   80 |      68 |      80 | liu     |
|    4 | snow |   40 |   70 |      80 |      90 | wu      |
+------+------+------+------+---------+---------+---------+
# . 匹配任意字符一次
mysql> select * from student where english regexp '.0';
+------+------+------+------+---------+---------+---------+
| id   | name | age  | math | english | history | teacher |
+------+------+------+------+---------+---------+---------+
|    2 | test |   30 |   60 |      50 |      80 | wu      |
|    4 | snow |   40 |   70 |      80 |      90 | wu      |
+------+------+------+------+---------+---------+---------+
mysql> insert into student values (5, 'flasky', 18, 23, 55, 77, 'xu');
mysql> insert into student values (6, 'kaow', 27, 233, 505, 77, 'xu');
mysql> select * from student;
+------+--------+------+------+---------+---------+---------+
| id   | name   | age  | math | english | history | teacher |
+------+--------+------+------+---------+---------+---------+
|    1 | fly    |   24 |   80 |      68 |     100 | liu     |
|    2 | test   |   30 |   60 |      50 |      80 | wu      |
|    3 | sky    |   27 |   80 |      68 |      80 | liu     |
|    4 | snow   |   40 |   70 |      80 |      90 | wu      |
|    5 | flasky |   18 |   23 |      55 |      77 | xu      |
|    6 | kaow   |   27 |  233 |     505 |      77 | xu      |
+------+--------+------+------+---------+---------+---------+
# * 匹配任意字符任意次
mysql> select * from student where name regexp 'fl*';
+------+--------+------+------+---------+---------+---------+
| id   | name   | age  | math | english | history | teacher |
+------+--------+------+------+---------+---------+---------+
|    1 | fly    |   24 |   80 |      68 |     100 | liu     |
|    5 | flasky |   18 |   23 |      55 |      77 | xu      |
+------+--------+------+------+---------+---------+---------+
# | or匹配，满足条件之一即可
mysql> select * from student where name regexp 'sky|snow';
+------+------+------+------+---------+---------+---------+
| id   | name | age  | math | english | history | teacher |
+------+------+------+------+---------+---------+---------+
|    3 | sky  |   27 |   80 |      68 |      80 | liu     |
|    4 | snow |   40 |   70 |      80 |      90 | wu      |
+------+------+------+------+---------+---------+---------+
# []匹配[]内的特定字符
mysql> select * from student where math regexp '[23]3';
+------+--------+------+------+---------+---------+---------+
| id   | name   | age  | math | english | history | teacher |
+------+--------+------+------+---------+---------+---------+
|    5 | flasky |   18 |   23 |      55 |      77 | xu      |
|    6 | kaow   |   27 |  233 |     505 |      77 | xu      |
+------+--------+------+------+---------+---------+---------+
# [2-7] 或者[a-z]是上面内容的缩写，-表示范围
mysql> select * from student where math regexp '[2-7]';
+------+--------+------+------+---------+---------+---------+
| id   | name   | age  | math | english | history | teacher |
+------+--------+------+------+---------+---------+---------+
|    2 | test   |   30 |   60 |      50 |      80 | wu      |
|    4 | snow   |   40 |   70 |      80 |      90 | wu      |
|    5 | flasky |   18 |   23 |      55 |      77 | xu      |
|    6 | kaow   |   27 |  233 |     505 |      77 | xu      |
+------+--------+------+------+---------+---------+---------+
# 匹配特殊字符,使用\\为前导，类似转义。
mysql> select * from student where math regexp '\\*';
# 多数正则表达式使用单个反斜杠转移特殊字符，但是mysql使用两个反斜杠。
# mysql自己解释一个，正则表达式库解释另一个。
# 匹配字符类(预定义的字符集)
# [:upper:]  # 任意大写字母(同[A-Z])
# [:digit:]  # 任意数字(同[0-9])
# 匹配多个实例
+------+-----------------------------+
| char | introduction                |
+------+-----------------------------+
|  *   | 0个或多个匹配               |
|  +   | 1个或多个匹配(等于{1,})     |
|  ?   | 0个或一个匹配(等于{0,1})    |
| {n}  | 指定数目的匹配              |
| {n,} | 不少于指定数目的匹配        |
|{n,m} | 匹配数目的范围(m不超过255)  |
+------+-----------------------------+
# 以上匹配范围作用于范围之前的字符。
# 定位符(匹配指定位置的文本)
+-------+-----------------------------+
| char  | introduction                |   
+-------+-----------------------------+
|   ^   | 文本的开始                  |   
|   $   | 文本的结尾                  |   
|[[:<:]]| 词的开始                    |   
|[[:>:]]| 词的结尾                    |   
+-------+-----------------------------+
mysql> select * from student where name regexp '^[fs]';
+------+--------+------+------+---------+---------+---------+
| id   | name   | age  | math | english | history | teacher |
+------+--------+------+------+---------+---------+---------+
|    1 | fly    |   24 |   80 |      68 |     100 | liu     |
|    3 | sky    |   27 |   80 |      68 |      80 | liu     |
|    4 | snow   |   40 |   70 |      80 |      90 | wu      |
|    5 | flasky |   18 |   23 |      55 |      77 | xu      |
+------+--------+------+------+---------+---------+---------+
```
